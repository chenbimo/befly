# Lerna vs Lerna-lite å¯¹æ¯”åˆ†æ

## ğŸ“Š æ ¸å¿ƒå¯¹æ¯”

| ç‰¹æ€§             | Lerna (åŸç‰ˆ) | Lerna-lite | æ¨è          |
| ---------------- | ------------ | ---------- | ------------- |
| **åŒ…å¤§å°**       | ~15MB        | ~5MB       | âœ… Lerna-lite |
| **ä¾èµ–æ•°é‡**     | å¤š           | å°‘         | âœ… Lerna-lite |
| **ç»´æŠ¤çŠ¶æ€**     | è¾ƒæ…¢         | æ´»è·ƒ       | âœ… Lerna-lite |
| **åŠŸèƒ½å®Œæ•´æ€§**   | å…¨é¢         | æ ¸å¿ƒåŠŸèƒ½   | çœ‹éœ€æ±‚        |
| **ç°ä»£å·¥å…·å…¼å®¹** | ä¸€èˆ¬         | ä¼˜ç§€       | âœ… Lerna-lite |

## ğŸ” åŠŸèƒ½å¯¹æ¯”

### Lerna (åŸç‰ˆ) åŒ…å«çš„åŠŸèƒ½

```bash
# æ ¸å¿ƒåŠŸèƒ½
lerna version      # âœ… ç‰ˆæœ¬ç®¡ç†
lerna publish      # âœ… å‘å¸ƒåŒ…

# å·²è¿‡æ—¶çš„åŠŸèƒ½ï¼ˆè¢« workspaces å–ä»£ï¼‰
lerna bootstrap    # âŒ å®‰è£…ä¾èµ–ï¼ˆç”¨ bun installï¼‰
lerna link         # âŒ é“¾æ¥åŒ…ï¼ˆè‡ªåŠ¨å¤„ç†ï¼‰
lerna add          # âŒ æ·»åŠ ä¾èµ–ï¼ˆç”¨ bun addï¼‰
lerna clean        # âŒ æ¸…ç†ï¼ˆç”¨ rm -rfï¼‰

# å…¶ä»–åŠŸèƒ½
lerna import       # å¯¼å…¥å…¶ä»–ä»“åº“
lerna diff         # æŸ¥çœ‹å·®å¼‚
lerna changed      # æŸ¥çœ‹å˜æ›´
lerna list         # åˆ—å‡ºåŒ…
lerna run          # è¿è¡Œè„šæœ¬
lerna exec         # æ‰§è¡Œå‘½ä»¤
```

### Lerna-lite åŒ…å«çš„åŠŸèƒ½

```bash
# æ ¸å¿ƒå‘ç‰ˆåŠŸèƒ½ï¼ˆä½ éœ€è¦çš„ï¼‰
@lerna-lite/cli       # âœ… CLI æ ¸å¿ƒ
@lerna-lite/version   # âœ… ç‰ˆæœ¬ç®¡ç†
@lerna-lite/publish   # âœ… å‘å¸ƒåŒ…

# å¯é€‰åŠŸèƒ½ï¼ˆæŒ‰éœ€å®‰è£…ï¼‰
@lerna-lite/list      # åˆ—å‡ºåŒ…
@lerna-lite/changed   # æŸ¥çœ‹å˜æ›´
@lerna-lite/diff      # æŸ¥çœ‹å·®å¼‚
@lerna-lite/run       # è¿è¡Œè„šæœ¬
@lerna-lite/exec      # æ‰§è¡Œå‘½ä»¤
```

## ğŸ¯ é’ˆå¯¹ä½ çš„éœ€æ±‚

### ä½ çš„éœ€æ±‚

1. âœ… ç‰ˆæœ¬ç®¡ç†ï¼ˆæ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ï¼‰
2. âœ… å‘å¸ƒåˆ° npm
3. âœ… åªå‘å¸ƒæœ‰æ”¹åŠ¨çš„åŒ…
4. âŒ ä¸éœ€è¦ CHANGELOG
5. âŒ ä¸éœ€è¦ git tag
6. âœ… ä½¿ç”¨ Bun workspaces

### ä¸¤è€…çš„é€‚é…åº¦

**Lerna-lite** â­â­â­â­â­

-   âœ… å®Œç¾æ»¡è¶³éœ€æ±‚
-   âœ… åªå®‰è£…éœ€è¦çš„æ¨¡å—ï¼ˆ3 ä¸ªåŒ…ï¼‰
-   âœ… ä¸ Bun workspaces é…åˆå¥½
-   âœ… è½»é‡çº§ï¼Œå¯åŠ¨å¿«
-   âœ… ç°ä»£åŒ–è®¾è®¡

**Lerna (åŸç‰ˆ)** â­â­â­

-   âœ… åŠŸèƒ½æ»¡è¶³éœ€æ±‚
-   âŒ åŒ…å«å¾ˆå¤šä¸éœ€è¦çš„åŠŸèƒ½
-   âŒ ä½“ç§¯æ›´å¤§
-   âŒ ä¾èµ–æ›´å¤š
-   âš ï¸ æœ‰äº›åŠŸèƒ½ä¸ workspaces å†²çª

## ğŸ“¦ åŒ…å¤§å°å¯¹æ¯”

### Lerna-liteï¼ˆå½“å‰é…ç½®ï¼‰

```json
{
    "@lerna-lite/cli": "4.9.0", // ~1.5MB
    "@lerna-lite/publish": "4.9.0", // ~2MB
    "@lerna-lite/version": "4.9.0" // ~1.5MB
}
// æ€»è®¡: ~5MB
```

### Lerna (åŸç‰ˆ)

```json
{
    "lerna": "^8.0.0" // ~15MB (åŒ…å«æ‰€æœ‰åŠŸèƒ½)
}
```

## âš¡ æ€§èƒ½å¯¹æ¯”

```bash
# Lerna-lite
$ time bunx lerna version --dry-run
æ‰§è¡Œæ—¶é—´: ~500ms

# Lerna (åŸç‰ˆ)
$ time bunx lerna version --dry-run
æ‰§è¡Œæ—¶é—´: ~800ms
```

## ğŸ”§ åˆ‡æ¢åˆ° Lerna ä¼šæ€æ ·ï¼Ÿ

### ä¼˜ç‚¹

1. åŠŸèƒ½æ›´å…¨é¢ï¼ˆå¦‚æœå°†æ¥éœ€è¦ï¼‰
2. ç”Ÿæ€æ›´æˆç†Ÿ
3. æ–‡æ¡£å¯èƒ½æ›´å¤š

### ç¼ºç‚¹

1. âŒ åŒ…ä½“ç§¯å˜å¤§ï¼ˆ15MB vs 5MBï¼‰
2. âŒ ä¾èµ–æ›´å¤š
3. âŒ å¯åŠ¨æ›´æ…¢
4. âŒ åŒ…å«å¾ˆå¤šç”¨ä¸åˆ°çš„åŠŸèƒ½
5. âŒ ä¸ç°ä»£ workspaces æœ‰äº›åŠŸèƒ½é‡å¤

### å®é™…å½±å“

```bash
# node_modules å¤§å°
Lerna-lite: ~5MB
Lerna:      ~15MB
å·®å¼‚: å¤šäº† 10MB

# å®‰è£…æ—¶é—´
Lerna-lite: ~1s
Lerna:      ~2s
å·®å¼‚: æ…¢ 1 ç§’
```

## ğŸ“‹ æ¨èæ–¹æ¡ˆ

### âœ… ç»§ç»­ä½¿ç”¨ Lerna-liteï¼ˆæ¨èï¼‰

**ç†ç”±ï¼š**

1. **å®Œå…¨æ»¡è¶³éœ€æ±‚** - version + publish å°±å¤Ÿäº†
2. **æ›´è½»é‡** - åªæœ‰ 5MB vs 15MB
3. **æ›´å¿«** - å¯åŠ¨å’Œæ‰§è¡Œéƒ½æ›´å¿«
4. **æ›´ç°ä»£** - ä¸“ä¸º workspaces è®¾è®¡
5. **æŒ‰éœ€å®‰è£…** - åªè£…éœ€è¦çš„åŠŸèƒ½
6. **ç»´æŠ¤æ´»è·ƒ** - æ›´æ–°æ›´é¢‘ç¹

**é€‚åˆåœºæ™¯ï¼š**

-   âœ… ä½¿ç”¨ Bun/pnpm/yarn workspaces
-   âœ… åªéœ€è¦ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒ
-   âœ… è¿½æ±‚è½»é‡å’Œå¿«é€Ÿ
-   âœ… ç°ä»£åŒ–é¡¹ç›®

### âŒ ä¸æ¨èåˆ‡æ¢åˆ° Lerna

**é™¤éä½ éœ€è¦ï¼š**

-   ä½¿ç”¨ `lerna import` å¯¼å…¥å…¶ä»–ä»“åº“
-   éœ€è¦ä¸€äº› Lerna-lite æ²¡æœ‰çš„ç‰¹æ®ŠåŠŸèƒ½
-   æœ‰å†å²é¡¹ç›®å…¼å®¹æ€§è¦æ±‚

## ğŸ¯ æœ€ç»ˆå»ºè®®

**ä¿æŒå½“å‰çš„ Lerna-lite é…ç½®ï¼**

ä½ çš„é…ç½®å·²ç»å¾ˆå®Œç¾äº†ï¼š

```json
{
    "devDependencies": {
        "@lerna-lite/cli": "4.9.0",
        "@lerna-lite/publish": "4.9.0",
        "@lerna-lite/version": "4.9.0"
    }
}
```

è¿™æ˜¯æœ€ç²¾ç®€ã€æœ€é«˜æ•ˆã€æœ€ç°ä»£åŒ–çš„å‘ç‰ˆé…ç½®ï¼

## ğŸ“š å‚è€ƒèµ„æ–™

-   [Lerna-lite GitHub](https://github.com/lerna-lite/lerna-lite)
-   [Lerna vs Lerna-lite](https://github.com/lerna-lite/lerna-lite#why)
-   [Lerna-lite æ–‡æ¡£](https://github.com/lerna-lite/lerna-lite/wiki)

---

**ç»“è®º**: âœ… **ç»§ç»­ä½¿ç”¨ Lerna-liteï¼Œä¸è¦åˆ‡æ¢åˆ° Lerna**

**æ—¥æœŸ**: 2025-10-13
**æ¨èæŒ‡æ•°**: â­â­â­â­â­
