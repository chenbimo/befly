# 10 分钟体验 Befly

> 目标：10 分钟内在本机运行模板项目，调用一个接口，顺带看下健康检查与返回格式。

## 1. 启动模板项目

在 Windows 的 cmd 下：

```
cd tpl
bun run dev
```

终端看到：

-   “开始启动 Befly 服务器.../Befly 服务器启动成功”
-   “服务器监听地址: http://<host>:<port>”

若你未设置 APP_HOST/APP_PORT，则由 Bun.serve 的默认策略决定监听地址与端口（常见为 3000；以实际日志为准）。建议在本地开发时显式设置以便确定。

## 2. 调用内置路由

-   健康检查（POST）：`/api/core/health/info`
    -   返回形如：
    ```json
    {
      "code": 0,
      "msg": "健康检查成功",
      "data": { "status": "ok", "runtime": "Bun", ... }
    }
    ```
-   根路径（GET）：`/` → { code:0, msg:'Befly 接口服务已启动', data: { mode } }

提示：可以使用 curl、Postman 或浏览器插件测试。若跨域，请查看响应头包含 CORS 设置。

## 3. 调用模板自带接口

模板内 `apis/test/hi.js` 定义了一个 POST 接口，开启了 auth:true。要通过校验，需要提供 Bearer JWT（详见“API 开发/JWT”章节）。你也可以把该文件中的 `true` 暂改为 `false` 后再次 `bun run dev` 重启以便快速测试。

如果返回无权限，可确认：

-   是否携带 Authorization: Bearer <token>
-   或暂时将 auth 改为 false

## 4. 响应结构与日志

-   成功：`RYes(msg, data)` → `{ code:0, msg, data }`
-   失败：`RNo(msg, error?)` → `{ code:-1, msg, error? }`
-   控制台与文件日志：见 `core/utils/logger.js`，可通过 `LOG_*` 环境变量控制输出与字段过滤。

## 5. 下一步

-   继续阅读“03-核心概念/01-项目结构.md”
-   如果你需要数据库：跳到“05-数据库/01-DB 配置.md”并按需运行“02-syncDb 与 syncDev.md”
