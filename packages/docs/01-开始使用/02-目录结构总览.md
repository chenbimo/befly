# 目录结构总览

Befly 仓库包含三块：框架内核 `core/`、示例模板 `tpl/`、以及文档 `docs/`。

```
core/     # 框架源码（发布为 npm 依赖）
tpl/      # 示例/模板项目（使用 core 作为依赖）
docs/     # 教程与使用文档
```

模板项目（tpl/）关键文件：

-   `main.js`：创建并启动 Befly 服务
-   `apis/`：你的业务 API（示例：`apis/test/hi.js`）
-   `tables/`：表结构定义（用于校验与同步）
-   `pm2.config.cjs`：生产/守护进程配置（含 DB\_\* 等环境变量）
-   `plugins/`：可扩展插件（优先级：core 内置 < app 自定义）

核心（core/）关键点：

-   `main.js`：Befly 框架入口（加载检查 -> 插件 -> 路由 -> 监听）
-   `apis/health/info.js`：健康检查 API 示例
-   `plugins/db.js`、`plugins/logger.js`、`plugins/redis.js` 等：内置插件
-   `utils/`：工具集（`sqlHelper.js`、`validate.js`、`jwt.js`、`logger.js`...）
-   `scripts/syncDb.js`：表结构同步脚本
-   `checks/`：启动前检查
-   `config/env.js`：集中化环境变量读取与类型转换
